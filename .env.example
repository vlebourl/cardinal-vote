# Cardinal Vote - Generalized Voting Platform Environment Configuration
# Copy this file to .env and modify the values as needed

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================

# Application name displayed in the interface
APP_NAME="Cardinal Vote"

# Application version
APP_VERSION="2.0.0"

# Environment: development, production, docker
CARDINAL_ENV=production

# Enable debug mode (true/false)
# WARNING: Never enable debug mode in production!
DEBUG=false

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Server host (0.0.0.0 for all interfaces, 127.0.0.1 for localhost only)
HOST=0.0.0.0

# Server port
PORT=8000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL connection string (REQUIRED)
# Format: postgresql+asyncpg://username:password@host:port/database
DATABASE_URL=postgresql+asyncpg://cardinal:password@postgres:5432/cardinal_vote

# Database connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# =============================================================================
# FILE PATHS
# =============================================================================

# Base directory for file paths (usually auto-detected)
# BASE_DIR=/app

# Directory for uploaded content files
UPLOADS_DIR=/app/uploads

# Directory containing HTML templates
# TEMPLATES_DIR=/app/templates

# Directory containing static files (CSS, JS)
# STATIC_DIR=/app/static

# =============================================================================
# CONTENT UPLOAD CONFIGURATION
# =============================================================================

# Maximum file upload size in MB
MAX_UPLOAD_SIZE_MB=10

# Allowed file extensions for uploads (comma-separated)
ALLOWED_UPLOAD_EXTENSIONS=.png,.jpg,.jpeg,.gif,.webp

# =============================================================================
# VOTING CONFIGURATION
# =============================================================================

# Vote rating scale minimum value
MIN_RATING=-2

# Vote rating scale maximum value
MAX_RATING=2

# Maximum length for voter names (first + last)
MAX_VOTER_NAME_LENGTH=50

# Maximum length for vote option titles
MAX_OPTION_TITLE_LENGTH=100

# Maximum length for vote option text content
MAX_OPTION_CONTENT_LENGTH=500

# =============================================================================
# SECURITY SETTINGS
# =============================================================================

# CORS allowed origins (comma-separated)
# For production: set to your actual domain
# ALLOWED_ORIGINS=https://vote.yourdomain.com,https://www.yourdomain.com
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000,http://127.0.0.1:8000

# Rate limiting: maximum vote submissions per IP per hour
MAX_VOTES_PER_IP_PER_HOUR=10

# Enable rate limiting (true/false)
ENABLE_RATE_LIMITING=true

# Enable secure headers (true/false)
SECURE_HEADERS=true

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log level: debug, info, warning, error
LOG_LEVEL=info

# Log directory (for file logging)
LOG_DIR=/app/logs

# Log file name
LOG_FILE=cardinal-vote.log

# Maximum log file size in MB
LOG_MAX_SIZE=50

# Maximum number of log files to keep
LOG_BACKUP_COUNT=10

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================

# JWT secret key for token signing (generate with: python -c "import secrets; print(secrets.token_urlsafe(32))")
# MUST be set for super admin authentication
JWT_SECRET_KEY=

# JWT token expiration time in hours
JWT_EXPIRES_HOURS=24

# Super admin email address (REQUIRED)
SUPER_ADMIN_EMAIL=

# Super admin password (REQUIRED)
SUPER_ADMIN_PASSWORD=

# =============================================================================
# MONITORING AND OBSERVABILITY
# =============================================================================

# Enable Prometheus metrics (true/false)
ENABLE_METRICS=false

# Metrics endpoint path
METRICS_PATH=/metrics

# Enable application performance monitoring
ENABLE_APM=false

# APM service URL
# APM_SERVICE_URL=http://jaeger:14268/api/traces

# =============================================================================
# EMAIL CONFIGURATION (Optional)
# =============================================================================

# SMTP settings for notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your_email@gmail.com
# SMTP_PASSWORD=your_app_password
# SMTP_TLS=true

# Admin email for notifications
# ADMIN_EMAIL=admin@yourdomain.com

# =============================================================================
# BACKUP CONFIGURATION (Optional)
# =============================================================================

# Enable automatic database backups (true/false)
ENABLE_BACKUP=false

# Backup directory
BACKUP_DIR=/app/backups

# Backup retention in days
BACKUP_RETENTION_DAYS=30

# Backup schedule (cron format)
BACKUP_SCHEDULE="0 2 * * *"

# =============================================================================
# DOCKER-SPECIFIC SETTINGS
# =============================================================================

# Docker container timezone
TZ=UTC

# User ID and Group ID for file permissions
# UID=1000
# GID=1000

# =============================================================================
# SSL/TLS CONFIGURATION (for reverse proxy)
# =============================================================================

# Domain name for SSL certificate
# DOMAIN=vote.yourdomain.com

# SSL certificate email for Let's Encrypt
# SSL_EMAIL=admin@yourdomain.com

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Enable development mode features (true/false)
DEV_MODE=false

# Auto-reload on code changes (development only)
AUTO_RELOAD=false

# Show detailed error pages (development only)
SHOW_ERROR_DETAILS=false

# =============================================================================
# PERFORMANCE TUNING
# =============================================================================

# Uvicorn worker count (for production, can scale with PostgreSQL)
WORKER_COUNT=1

# Worker timeout in seconds
WORKER_TIMEOUT=30

# Maximum request size in bytes
MAX_REQUEST_SIZE=1048576

# Connection timeout in seconds
CONNECTION_TIMEOUT=60

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable results export feature (true/false)
ENABLE_RESULTS_EXPORT=true

# Enable admin dashboard (true/false)
ENABLE_ADMIN_DASHBOARD=true

# =============================================================================
# CONTENT MODERATION (Phase 2 Week 7)
# =============================================================================

# Enable vote flagging by users (true/false)
ENABLE_VOTE_FLAGGING=true

# Minimum flags before vote is auto-hidden
AUTO_HIDE_FLAG_THRESHOLD=5

# Enable automatic content moderation (true/false)
ENABLE_AUTO_MODERATION=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================

# Enable vote creation by super admins (true/false)
ENABLE_VOTE_CREATION=true

# Enable vote editing after creation (true/false)
ENABLE_VOTE_EDITING=true

# Enable public vote results (true/false)
ENABLE_PUBLIC_RESULTS=true

# Enable vote archiving (true/false)
ENABLE_VOTE_ARCHIVING=true
