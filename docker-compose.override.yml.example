# Development override configuration for docker-compose
# Copy this file to docker-compose.override.yml for local development
# DO NOT commit docker-compose.override.yml to version control

name: cardinal-vote-dev

services:
  cardinal-vote:
    environment:
      # Development settings
      - DEBUG=true
      - CARDINAL_ENV=development
    volumes:
      # Development mounts for live reload
      - ./src:/app/src:ro
      - ./templates:/app/templates:ro
      - ./static:/app/static:ro
    # Use build for development instead of pre-built image
    build:
      context: .
      dockerfile: Dockerfile
      target: production

  # For development, you might want to expose postgres port
  postgres:
    ports:
      - '5432:5432'
