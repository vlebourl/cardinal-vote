# docker-compose.override.yml.example
# Copy this to docker-compose.override.yml for local development customizations
# This file is automatically loaded by docker-compose

version: '3.8'

services:
  toveco-voting:
    # Development-specific settings
    environment:
      - DEBUG=true
      - LOG_LEVEL=debug
      - AUTO_RELOAD=true

    # Mount source code for development (hot reload)
    volumes:
      - ./src:/app/src:ro
      - ./templates:/app/templates:ro
      - ./static:/app/static:ro

    # Expose additional ports for debugging
    ports:
      - "8001:8000"  # Alternative port mapping

    # Override command for development
    command: ["uvicorn", "cardinal_vote.main:app", "--host", "0.0.0.0", "--port", "8000", "--reload"]

    # Development resource limits (more relaxed)
    deploy:
      resources:
        limits:
          cpus: '2.0'
          memory: 1G
